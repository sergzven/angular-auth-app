import{a as R,b as M,j as k,k as I,l as P,m as q,n as B,o as V,p as A,q as Q,s as j,t as O,u as z,v as U}from"./chunk-3PRPOVOQ.js";import{a as x,b as m,d as F,e as H,g as L,h as f,i as T,j as G,k as N}from"./chunk-S5IZ3SXN.js";import{j as D,k as w}from"./chunk-X6BYSPZV.js";import{a as E}from"./chunk-Y5BRW7IY.js";import{Cb as b,Db as _,Eb as S,Jb as o,Ka as a,Kb as h,Lb as y,Za as g,ba as d,cb as v,jb as p,nb as C,rb as t,sb as n,tb as u,xb as c}from"./chunk-I7PFEBLH.js";function K(l,i){l&1&&u(0,"hlm-spinner",13)}function W(l,i){l&1&&o(0,"Login")}var J=class l{_formGroupDirective;_fb=d(G);_auth=d(E);_router=d(D);loading=!1;form=this._fb.group({email:["",[m.required,m.email]],password:["",[m.required,m.minLength(6)]]});getErrorText(i){return i.hasError("required")?"This field is required":i.hasError("email")?"Please enter a valid email address":i.hasError("minlength")?"Password must be at least 6 characters long":""}onReset(){this._formGroupDirective.resetForm()}onSubmit(){if(this.form.valid){this.loading=!0,this.form.disable();let{email:i,password:r}=this.form.getRawValue();this._auth.login(i,r).subscribe({next:e=>{console.log("Success:",e),this.loading=!1,this.form.enable(),this._router.navigateByUrl("/dashboard")},error:e=>{this.loading=!1,this.form.enable(),console.log("Error:",e)}})}}static \u0275fac=function(r){return new(r||l)};static \u0275cmp=g({type:l,selectors:[["app-login"]],viewQuery:function(r,e){if(r&1&&b(f,5),r&2){let s;_(s=S())&&(e._formGroupDirective=s.first)}},features:[y([{provide:M,useClass:R}])],decls:27,vars:6,consts:[["hlmCard","",1,"w-100","max-w-full"],["hlmCardHeader",""],["hlmCardTitle",""],["hlmCardDescription",""],["hlmCardContent",""],[1,"space-y-6",3,"ngSubmit","formGroup"],[1,"mb-4"],["formControlName","email","hlmInput","","type","email","placeholder","Email",1,"w-full"],["formControlName","password","hlmInput","","type","password","placeholder","Password",1,"w-full"],["hlmCardFooter","",1,"block"],[1,"flex","justify-center"],["hlmBtn","","type","button","variant","outline",1,"mx-2","w-30",3,"click","disabled"],["hlmBtn","","type","submit",1,"mx-2","w-30",3,"disabled"],["size","sm"],[1,"mt-4","text-center"],["routerLink","/auth/register",1,"text-blue-500","hover:text-blue-700"]],template:function(r,e){r&1&&(t(0,"section",0)(1,"div",1)(2,"h3",2),o(3,"Login"),n(),t(4,"p",3),o(5,"Enter your email and password"),n()(),t(6,"div",4)(7,"form",5),c("ngSubmit",function(){return e.onSubmit()}),t(8,"hlm-form-field",6),u(9,"input",7),t(10,"hlm-error"),o(11),n()(),t(12,"hlm-form-field"),u(13,"input",8),t(14,"hlm-error"),o(15),n()(),t(16,"div",9)(17,"div",10)(18,"button",11),c("click",function(){return e.onReset()}),o(19," Reset "),n(),t(20,"button",12),v(21,K,1,0,"hlm-spinner",13)(22,W,1,0),n()(),t(23,"p",14),o(24," Don't have an account? "),t(25,"a",15),o(26,"Register"),n()()()()()()),r&2&&(a(7),p("formGroup",e.form),a(4),h(e.getErrorText(e.form.controls.email)),a(4),h(e.getErrorText(e.form.controls.password)),a(3),p("disabled",e.loading),a(2),p("disabled",e.loading),a(),C(e.loading?21:22))},dependencies:[N,L,x,F,H,f,T,I,P,A,q,B,V,O,j,Q,z,k,w,U],styles:["[_nghost-%COMP%]{width:100%;height:100%;position:relative;display:flex;justify-content:center;align-items:center;padding:10px;min-width:300px}"]})};export{J as LoginComponent};
